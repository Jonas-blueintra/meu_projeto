tinymce.PluginManager.add('rgb', function(editor, url) {

	//Grade responsiva
	editor.addButton('rgb_grid', {
		type: 'menubutton'
		,icon: 'template'
		,title: 'Grid'
		,text: 'Grid'
		,menu: [
			{
				text: 'Linha', onclick: function() {editor.insertContent('<div class="linha"><p>&nbsp;</p></div>');}
			}
			,{
				text: 'Mobile - 400px'
				,menu: [
					{ text: '███ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="seis colunas"><p>Coluna</p></div><div class="seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ ██ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="quatro colunas"><p>Coluna</p></div><div class="quatro colunas"><p>Coluna</p></div><div class="quatro colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="tres colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="seis colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="tres colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div><div class="seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '███ █', onclick: function() {editor.insertContent('<div class="linha"><div class="nove colunas"><p>Coluna</p></div><div class="tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="tres colunas"><p>Coluna</p></div><div class="nove colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
				]
			}
			,{
				text: 'Phablet - 550px'
				,menu: [
					{ text: '███ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-seis colunas"><p>Coluna</p></div><div class="phablet-seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ ██ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-quatro colunas"><p>Coluna</p></div><div class="phablet-quatro colunas"><p>Coluna</p></div><div class="phablet-quatro colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-seis colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '███ █', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-nove colunas"><p>Coluna</p></div><div class="phablet-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="phablet-tres colunas"><p>Coluna</p></div><div class="phablet-nove colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
				]
			}
			,{
				text: 'Tablet - 750px'
				,menu: [
					{ text: '███ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-seis colunas"><p>Coluna</p></div><div class="tablet-seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ ██ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-quatro colunas"><p>Coluna</p></div><div class="tablet-quatro colunas"><p>Coluna</p></div><div class="tablet-quatro colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-seis colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '███ █', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-nove colunas"><p>Coluna</p></div><div class="tablet-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="tablet-tres colunas"><p>Coluna</p></div><div class="tablet-nove colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
				]
			}
			,{
				text: 'Desktop - 1024px'
				,menu: [
					{ text: '███ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-seis colunas"><p>Coluna</p></div><div class="desktop-seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ ██ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-quatro colunas"><p>Coluna</p></div><div class="desktop-quatro colunas"><p>Coluna</p></div><div class="desktop-quatro colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '██ █ █', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-seis colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ █ ██', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-seis colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '███ █', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-nove colunas"><p>Coluna</p></div><div class="desktop-tres colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
					,{ text: '█ ███', onclick: function() {editor.insertContent('<div class="linha"><div class="desktop-tres colunas"><p>Coluna</p></div><div class="desktop-nove colunas"><p>Coluna</p></div></div><p>&nbsp;</p>');} }
				]
			}
		]
	});

	//Lightbox
	editor.addButton('rgb_lightbox', {
		icon: 'fullscreen',
		title: 'Lightbox',
		text: 'Lightbox',
		onclick: function() {
			editor.windowManager.open({
				width: 400,
				height: 70,
				title: 'Lightbox',
				body: [
					{
						type: 'textbox',
						name: 'id',
						label: 'ID'
					}
				],
				onsubmit: function(e) {
					editor.insertContent(
						'<div id="' + e.data.id + '" class="rgb-lightbox texto-editavel">' +
							'<p>&nbsp;</p>' +
						'</div>' +
						'<p>&nbsp;</p>'
					);
				}
			});
		}
	});

	//Link Lightbox
	editor.addButton('rgb_link_lightbox', {
		icon: 'link',
		text: 'Link Lightbox',
		title: 'Link Lightbox',
		onclick: function() {
			editor.windowManager.open({
				width: 400,
				height: 110,
				title: 'Link',
				body: [
					{
						type: 'textbox',
						name: 'texto',
						label: 'Texto do link'
					},
					{
						type: 'textbox',
						name: 'lightbox',
						label: 'ID do lightbox'
					}
				],

				onsubmit: function(e) {
					editor.insertContent(
						'<span class="rgb-link-lightbox" data-lightbox="' + e.data.lightbox + '">' + e.data.texto + '</span>'
					);
				}
			});
		}
	});

	//Container
	editor.addButton('rgb_container', {
		icon: 'tablerowprops',
		title: 'Container personalizado',
		text: 'Container',
		onclick: function() {
			editor.windowManager.open({
				width: 400,
				height: 190,
				title: 'Container personalizado',
				body: [
					{
						type: 'textbox',
						name: 'container_custom_width',
						label: 'Largura'
					},
					{
						type: 'listbox',
						name: 'container_custom_unit',
						label: 'Medida',
						values: [
							{ text: 'Pixel', 		value: 'px' },
							{ text: '%', 			value: '%' }
						],
						value: '0'
					},
					{
						type: 'listbox',
						name: 'container_custom_align',
						label: 'Alinhamento',
						values: [
							{ text: 'Esquerda',		value: '0' },
							{ text: 'Centro', 		value: '1' },
							{ text: 'Direita', 		value: '2' },
						],
						value: '1'
					},
					{
						type: 'textbox',
						name: 'container_custom_padding',
						label: 'Padding'
					},

				],
				onsubmit: function(e) {
					var largura = e.data.container_custom_width + e.data.container_custom_unit + ';';
					var alinhamento = '';
					var padding = '';
					if (e.data.container_custom_padding) {
						padding = 'padding: ' + e.data.container_custom_padding + ';';
					}

					switch (e.data.container_custom_align) {
						case '1':
						default: 
							alinhamento = 'margin-left: auto; margin-right: auto;';
							break;
						case '0':
							alinhamento = 'float: left;';
							break;
						case '2':
							alinhamento = 'float: right;';
							break;
					}

					editor.insertContent(
						'<div class="rgb-container linha">' +
							'<div class="rgb-container-inner" style="width: ' + largura + alinhamento + padding + '">' + 
								'<p>&nbsp;</p>' +
							'</div>' +
						'</div>' +
						'<p>&nbsp;</p>'
					);
				}
			});
		}
	});

	//Botão
	editor.addButton('rgb_botao', {
		icon: 'link',
		text: 'Botão',
		title: 'Botão',
		onclick: function() {
			editor.windowManager.open({
				width: 400,
				height: 200,
				title: 'Botão Personalizado',
				body: [
					{
						type: 'textbox',
						name: 'rgb_botao_label',
						label: 'Texto do botão'
					},
					{
						type: 'textbox',
						name: 'rgb_botao_link',
						label: 'Link'
					},
					{
						type: 'listbox',
						name: 'rgb_botao_target',
						label: 'Abrir link',
						values: [
							{ text: 'Mesma aba', 	value: '_self' },
							{ text: 'Nova aba', 	value: '_blank' }
						],
						value: '_self'
					},
					{
						type: 'listbox',
						name: 'rgb_botao_width',
						label: 'Largura do botão',
						values: [
							{ text: 'Automático', 	value: '' },
							{ text: '100%', 		value: 'full-width' }
						],
						value: ''
					}
				],
				onsubmit: function(e) {
					editor.insertContent(
						'<a href="' + e.data.rgb_botao_link + '" target="' + e.data.rgb_botao_target + '" class="btn btn-mais ' + e.data.rgb_botao_width + '">' + e.data.rgb_botao_label + '</a>'
					);
				}
			});
		}
	});

});
